# SKUD - Система Контроля и Управления Доступом

Проект для отслеживания рабочего времени сотрудников с использованием ESP32 и Google Sheets.

## Компоненты проекта

1. **EmployeeTracker.ino** - Arduino-скетч для ESP32, который:
   - Считывает OneWire ключи сотрудников
   - Отправляет данные (серийный номер ключа + время) в Google Sheets

2. **AttendanceScript.js** - Google Apps Script для обработки данных, который:
   - Принимает данные от ESP32
   - Фиксирует время прихода и ухода сотрудников
   - Генерирует статистические отчеты
   - Автоматически закрывает незавершенные дни

## Функциональность

- Отслеживание времени прихода и ухода сотрудников
- Учет рабочего времени в обычные и выходные дни
- Автоматическое закрытие рабочего дня для "забывчивых" сотрудников
- Генерация ежемесячных отчетов с расчетом:
  - Общего количества отработанных часов
  - Часов, отработанных в выходные дни
  - Количества рабочих дней
  - Средней продолжительности рабочего дня

## Настройка

1. Загрузите скетч EmployeeTracker.ino на ESP32
2. Укажите в скетче:
   - Данные для подключения к WiFi
   - URL Google Apps Script
3. Создайте новую Google Таблицу
4. Добавьте Apps Script с кодом из AttendanceScript.js
5. Настройте список сотрудников в скрипте
6. Запустите функцию setupDailyTrigger() для настройки автоматического закрытия дней

## Требуемые библиотеки Arduino

- WiFi
- HTTPClient
- OneWire
- ArduinoJson 